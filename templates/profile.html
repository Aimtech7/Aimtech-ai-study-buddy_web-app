{% extends "base.html" %}

{% block content %}
<div class="profile-container">
    <h1>User Profile</h1>
    {% with messages = get_flashed_messages() %}
        {% if messages %}
            <div class="flash-messages">
                {% for message in messages %}
                    <p>{{ message }}</p>
                {% endfor %}
            </div>
        {% endif %}
    {% endwith %}
    
    <div class="profile-info">
        <h2>{{ current_user.email }}</h2>
        <p>Account created: {{ created_at }}</p>
        <p>Total flashcards: {{ flashcard_count }}</p>
    </div>
    
    <div class="profile-edit">
        <h3>Update Profile</h3>
        <form method="POST">
            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" name="email" value="{{ current_user.email }}" required>
            </div>
            <div class="form-group">
                <label for="current_password">Current Password</label>
                <input type="password" id="current_password" name="current_password" required>
            </div>
            <div class="form-group">
                <label for="new_password">New Password (leave blank to keep current)</label>
                <input type="password" id="new_password" name="new_password">
            </div>
            <div class="form-group">
                <label for="confirm_password">Confirm New Password</label>
                <input type="password" id="confirm_password" name="confirm_password">
            </div>
            <button type="submit" class="btn">Update Profile</button>
        </form>
    </div>
</div>
{% endblock %}